- 멀티스레드에서 락의 비중이 6-70은 될정도로 중요함
- lock이 어떻게 동작하는지 이해하는것이 꽤 중요


#### 화장실로 이해하는 Lock
- ![[Pasted image 20240709055128.png]]
- 선택지
	- 1. 그냥 무작정 기다린다
		- 근데 안에있는 사람이 엄청 오래걸리고 안나오는 경우 시간낭비
	- 2. 일단 자리로, 나중에 다시 (랜덤 메타)
		- 첫번째와 마찬가지로 보장이 안됨
	- 3.난 소중하니 직원한테 부탁하기
		- 부탁하고, 통보받는방법
		- 직원은 굳이 알려줘야 되서 짜증남
#### Lock구현도 위와 꽤나 비슷하다. 
- 1. 스핀락 ( 사실상 무작정 기다리는 방식)
	- 컴퓨터에서는 CPU점유율이 늘어나게됩니다.
- 2. 스레드가 자기 소유권을 포기하는방식
	- 내가 할게없네? 하고 소유권을 돌려주는
	- 문맥교환과 관련이있는데 오버헤드가 꽤나 비쌀 수 있음
	- 쉬고왔는데 다른애가 또 찾아와있는 문제발생 가능
- 3. 이벤트 방식
	- 양도하는 방식까지는 2번과 비슷하지만, 커널(운영체제)에게 자물쇠가 비면, 나를 다시 불러달라는 이벤트를 구독함
	- 